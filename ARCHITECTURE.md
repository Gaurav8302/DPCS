# ğŸ—ï¸ Dimentia Project Architecture

## System Architecture Overview

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         CLIENT LAYER                                  â”‚
â”‚                                                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”‚
â”‚  â”‚   Browser    â”‚  â”‚   Mobile     â”‚  â”‚   Tablet     â”‚             â”‚
â”‚  â”‚   (React)    â”‚  â”‚   (Future)   â”‚  â”‚   (Future)   â”‚             â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜             â”‚
â”‚         â”‚                  â”‚                  â”‚                       â”‚
â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                       â”‚
â”‚                            â”‚                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚ HTTPS
                             â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    PRESENTATION LAYER                                  â”‚
â”‚                                                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚              Next.js 14 Application                           â”‚    â”‚
â”‚  â”‚                                                               â”‚    â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚    â”‚
â”‚  â”‚  â”‚ Landing â”‚  â”‚ Test     â”‚  â”‚ Results  â”‚  â”‚  Admin   â”‚    â”‚    â”‚
â”‚  â”‚  â”‚ Page    â”‚  â”‚ Modules  â”‚  â”‚ Page     â”‚  â”‚Dashboard â”‚    â”‚    â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚    â”‚
â”‚  â”‚                                                               â”‚    â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚    â”‚
â”‚  â”‚  â”‚          NextAuth.js Authentication                  â”‚    â”‚    â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚    â”‚
â”‚  â”‚                                                               â”‚    â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚    â”‚
â”‚  â”‚  â”‚         State Management (Context API)               â”‚    â”‚    â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚ REST API / JSON
                             â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      API LAYER                                         â”‚
â”‚                                                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚                FastAPI Application                            â”‚    â”‚
â”‚  â”‚                                                               â”‚    â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚    â”‚
â”‚  â”‚  â”‚  Users   â”‚  â”‚ Sessions â”‚  â”‚ Scoring  â”‚  â”‚  Verify  â”‚   â”‚    â”‚
â”‚  â”‚  â”‚  Router  â”‚  â”‚  Router  â”‚  â”‚  Router  â”‚  â”‚  Router  â”‚   â”‚    â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚    â”‚
â”‚  â”‚                                                               â”‚    â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚    â”‚
â”‚  â”‚  â”‚ Results  â”‚  â”‚      Middleware & Security           â”‚    â”‚    â”‚
â”‚  â”‚  â”‚  Router  â”‚  â”‚  (CORS, JWT, Rate Limiting)          â”‚    â”‚    â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   BUSINESS LOGIC LAYER                                 â”‚
â”‚                                                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚
â”‚  â”‚  Scoring Algorithms    â”‚  â”‚  Data Validation       â”‚            â”‚
â”‚  â”‚                        â”‚  â”‚                        â”‚            â”‚
â”‚  â”‚  â€¢ Trail Making        â”‚  â”‚  â€¢ Pydantic Models     â”‚            â”‚
â”‚  â”‚  â€¢ Cube/2D Copy        â”‚  â”‚  â€¢ Input Sanitization  â”‚            â”‚
â”‚  â”‚  â€¢ Clock Drawing       â”‚  â”‚  â€¢ Type Checking       â”‚            â”‚
â”‚  â”‚  â€¢ Naming (Fuzzy)      â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚
â”‚  â”‚  â€¢ Attention           â”‚                                          â”‚
â”‚  â”‚  â€¢ Language            â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚
â”‚  â”‚  â€¢ Abstraction         â”‚  â”‚  Education Classifier  â”‚            â”‚
â”‚  â”‚  â€¢ Recall              â”‚  â”‚                        â”‚            â”‚
â”‚  â”‚  â€¢ Orientation         â”‚  â”‚  â€¢ Not Educated (0)    â”‚            â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â€¢ Basic (1-12)        â”‚            â”‚
â”‚                               â”‚  â€¢ College (13+)       â”‚            â”‚
â”‚                               â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚
â”‚                                                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      DATA LAYER                                        â”‚
â”‚                                                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚            MongoDB Atlas (Cloud Database)                     â”‚    â”‚
â”‚  â”‚                                                               â”‚    â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚    â”‚
â”‚  â”‚  â”‚  users   â”‚  â”‚ sessions â”‚  â”‚  results â”‚  â”‚   logs   â”‚   â”‚    â”‚
â”‚  â”‚  â”‚Collectionâ”‚  â”‚Collectionâ”‚  â”‚Collectionâ”‚  â”‚Collectionâ”‚   â”‚    â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚    â”‚
â”‚  â”‚                                                               â”‚    â”‚
â”‚  â”‚  Features:                                                    â”‚    â”‚
â”‚  â”‚  â€¢ Automatic backups                                          â”‚    â”‚
â”‚  â”‚  â€¢ Encryption at rest                                         â”‚    â”‚
â”‚  â”‚  â€¢ Replication                                                â”‚    â”‚
â”‚  â”‚  â€¢ ACID transactions                                          â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Data Flow Diagram

### User Registration & Test Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                                         
â”‚ Patient â”‚                                                         
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜                                                         
     â”‚                                                              
     â”‚ 1. Access Platform                                          
     â–¼                                                              
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                                      
â”‚  Browser   â”‚                                                      
â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜                                                      
      â”‚                                                             
      â”‚ 2. Create Account                                          
      â–¼                                                             
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      3. POST /api/users      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   
â”‚   Frontend   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚   Backend    â”‚   
â”‚  (Next.js)   â”‚                                â”‚  (FastAPI)   â”‚   
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜                                â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜   
       â”‚                                                â”‚           
       â”‚                                         4. Classify        
       â”‚                                         Education Level    
       â”‚                                                â”‚           
       â”‚                                                â–¼           
       â”‚                                         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   
       â”‚                                         â”‚  MongoDB    â”‚   
       â”‚                                         â”‚   users     â”‚   
       â”‚                                         â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜   
       â”‚                                                â”‚           
       â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€ 5. User Created â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           
       â”‚                                                             
       â”‚ 6. Start Test Session                                     
       â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º                    
       â”‚      POST /api/sessions                                   
       â”‚                                                             
       â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€ 7. Session ID â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                  
       â”‚                                                             
       â”‚ 8. Complete Module (e.g., Trail Making)                   
       â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º                    
       â”‚   POST /api/score/trail-making                            
       â”‚   { user_path, nodes, ... }                               
       â”‚                                                             
       â”‚                                         9. Score Algorithm 
       â”‚                                         Calculates Result  
       â”‚                                                â”‚           
       â”‚                                                â–¼           
       â”‚                                         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   
       â”‚                                         â”‚  MongoDB    â”‚   
       â”‚                                         â”‚  results    â”‚   
       â”‚                                         â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜   
       â”‚                                                â”‚           
       â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€ 10. Score & Confidence â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           
       â”‚          { score: 1, confidence: 1.0 }                    
       â”‚                                                             
       â”‚ 11. Update Session Progress                               
       â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º                    
       â”‚   PUT /api/sessions/{id}                                  
       â”‚                                                             
       â”‚ ... Repeat for all 9 modules ...                          
       â”‚                                                             
       â”‚ 12. Get Final Results                                     
       â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º                    
       â”‚   GET /api/results/{session_id}                           
       â”‚                                                             
       â”‚                                         13. Aggregate      
       â”‚                                         â€¢ Calculate total  
       â”‚                                         â€¢ Apply education  
       â”‚                                         â€¢ Determine level  
       â”‚                                                â”‚           
       â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€ 14. Complete Report â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           
       â”‚   { total_score: 28,                                      
       â”‚     interpretation: "Normal",                             
       â”‚     section_scores: {...} }                               
       â”‚                                                             
       â–¼                                                             
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                                      
â”‚  Results   â”‚                                                      
â”‚   Page     â”‚                                                      
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                                      
```

---

## Component Architecture

### Frontend Component Tree

```
App (_app.tsx)
â”‚
â”œâ”€â”€ SessionProvider (NextAuth)
â”‚   â”‚
â”‚   â”œâ”€â”€ ProgressProvider (Context)
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ IdleAlert (Global)
â”‚   â”‚   â”‚
â”‚   â”‚   â””â”€â”€ Page Components
â”‚   â”‚       â”‚
â”‚   â”‚       â”œâ”€â”€ Landing Page (/)
â”‚   â”‚       â”‚   â”œâ”€â”€ Header
â”‚   â”‚       â”‚   â”œâ”€â”€ Hero Section
â”‚   â”‚       â”‚   â”œâ”€â”€ Feature Cards
â”‚   â”‚       â”‚   â””â”€â”€ Footer
â”‚   â”‚       â”‚
â”‚   â”‚       â”œâ”€â”€ Consent Page (/consent)
â”‚   â”‚       â”‚   â””â”€â”€ Consent Form
â”‚   â”‚       â”‚
â”‚   â”‚       â”œâ”€â”€ Profile Setup (/profile)
â”‚   â”‚       â”‚   â”œâ”€â”€ Name Input
â”‚   â”‚       â”‚   â”œâ”€â”€ Email Input
â”‚   â”‚       â”‚   â””â”€â”€ Education Input
â”‚   â”‚       â”‚
â”‚   â”‚       â”œâ”€â”€ Test Modules (/test/*)
â”‚   â”‚       â”‚   â”œâ”€â”€ ProgressBar
â”‚   â”‚       â”‚   â”œâ”€â”€ Instructions
â”‚   â”‚       â”‚   â”œâ”€â”€ Test Interface
â”‚   â”‚       â”‚   â”‚   â”œâ”€â”€ Trail Making Canvas
â”‚   â”‚       â”‚   â”‚   â”œâ”€â”€ Drawing Canvas
â”‚   â”‚       â”‚   â”‚   â”œâ”€â”€ Image Upload
â”‚   â”‚       â”‚   â”‚   â”œâ”€â”€ Text Input
â”‚   â”‚       â”‚   â”‚   â”œâ”€â”€ Audio Recorder
â”‚   â”‚       â”‚   â”‚   â””â”€â”€ Multiple Choice
â”‚   â”‚       â”‚   â””â”€â”€ Navigation
â”‚   â”‚       â”‚
â”‚   â”‚       â”œâ”€â”€ Results Page (/results)
â”‚   â”‚       â”‚   â”œâ”€â”€ Score Display
â”‚   â”‚       â”‚   â”œâ”€â”€ Interpretation Badge
â”‚   â”‚       â”‚   â”œâ”€â”€ Section Breakdown
â”‚   â”‚       â”‚   â”œâ”€â”€ Charts
â”‚   â”‚       â”‚   â””â”€â”€ Export Options
â”‚   â”‚       â”‚
â”‚   â”‚       â””â”€â”€ Admin Dashboard (/admin)
â”‚   â”‚           â”œâ”€â”€ Session List
â”‚   â”‚           â”œâ”€â”€ Filters
â”‚   â”‚           â”œâ”€â”€ Manual Review Queue
â”‚   â”‚           â””â”€â”€ Analytics
â”‚   â”‚
â”‚   â””â”€â”€ Global Styles & Theme
```

---

## Database Schema

### Collections Structure

```
MongoDB: dimentia_project
â”‚
â”œâ”€â”€ users
â”‚   â”œâ”€â”€ _id: UUID
â”‚   â”œâ”€â”€ email: String (unique)
â”‚   â”œâ”€â”€ name: String
â”‚   â”œâ”€â”€ education_years: Integer
â”‚   â”œâ”€â”€ education_level: Enum
â”‚   â””â”€â”€ created_at: DateTime
â”‚
â”œâ”€â”€ sessions
â”‚   â”œâ”€â”€ _id: UUID
â”‚   â”œâ”€â”€ user_id: UUID (ref: users)
â”‚   â”œâ”€â”€ start_time: DateTime
â”‚   â”œâ”€â”€ completed_sections: Array<String>
â”‚   â”œâ”€â”€ total_score: Float
â”‚   â”œâ”€â”€ requires_manual_review: Boolean
â”‚   â”œâ”€â”€ section_scores: Object
â”‚   â”œâ”€â”€ created_at: DateTime
â”‚   â””â”€â”€ updated_at: DateTime
â”‚
â”œâ”€â”€ results
â”‚   â”œâ”€â”€ _id: UUID
â”‚   â”œâ”€â”€ session_id: UUID (ref: sessions)
â”‚   â”œâ”€â”€ user_id: UUID (ref: users)
â”‚   â”œâ”€â”€ section_name: String
â”‚   â”œâ”€â”€ raw_score: Float
â”‚   â”œâ”€â”€ confidence: Float
â”‚   â”œâ”€â”€ details: Object
â”‚   â”œâ”€â”€ requires_manual_review: Boolean
â”‚   â””â”€â”€ created_at: DateTime
â”‚
â””â”€â”€ logs (Audit Trail)
    â”œâ”€â”€ _id: UUID
    â”œâ”€â”€ user_id: UUID (ref: users)
    â”œâ”€â”€ action: String
    â”œâ”€â”€ resource_type: String
    â”œâ”€â”€ resource_id: String
    â”œâ”€â”€ ip_address: String
    â”œâ”€â”€ user_agent: String
    â”œâ”€â”€ details: Object
    â””â”€â”€ timestamp: DateTime
```

---

## Security Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     SECURITY LAYERS                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  1. TRANSPORT LAYER                                             â”‚
â”‚     â€¢ TLS 1.3 (HTTPS)                                          â”‚
â”‚     â€¢ Certificate from Let's Encrypt                            â”‚
â”‚     â€¢ HSTS Headers                                              â”‚
â”‚                                                                 â”‚
â”‚  2. AUTHENTICATION                                              â”‚
â”‚     â€¢ NextAuth.js                                               â”‚
â”‚     â€¢ JWT tokens (24h expiration)                              â”‚
â”‚     â€¢ Secure cookie storage                                     â”‚
â”‚     â€¢ Password hashing (bcrypt)                                â”‚
â”‚                                                                 â”‚
â”‚  3. AUTHORIZATION                                               â”‚
â”‚     â€¢ Role-based access control                                â”‚
â”‚     â€¢ Protected API routes                                      â”‚
â”‚     â€¢ Admin-only endpoints                                      â”‚
â”‚     â€¢ User-specific data isolation                             â”‚
â”‚                                                                 â”‚
â”‚  4. DATA PROTECTION                                             â”‚
â”‚     â€¢ AES-256 encryption at rest                               â”‚
â”‚     â€¢ Encrypted MongoDB connections                             â”‚
â”‚     â€¢ Environment variable protection                           â”‚
â”‚     â€¢ Secret rotation capability                                â”‚
â”‚                                                                 â”‚
â”‚  5. INPUT VALIDATION                                            â”‚
â”‚     â€¢ Pydantic models                                           â”‚
â”‚     â€¢ Type checking                                             â”‚
â”‚     â€¢ SQL injection prevention (MongoDB)                        â”‚
â”‚     â€¢ XSS prevention                                            â”‚
â”‚     â€¢ CSRF tokens                                               â”‚
â”‚                                                                 â”‚
â”‚  6. API SECURITY                                                â”‚
â”‚     â€¢ Rate limiting (100 req/min)                              â”‚
â”‚     â€¢ CORS policy                                               â”‚
â”‚     â€¢ Request size limits                                       â”‚
â”‚     â€¢ Timeout protection                                        â”‚
â”‚                                                                 â”‚
â”‚  7. AUDIT & MONITORING                                          â”‚
â”‚     â€¢ Audit log for all PHI access                             â”‚
â”‚     â€¢ Failed login attempts tracking                            â”‚
â”‚     â€¢ Anomaly detection (future)                               â”‚
â”‚     â€¢ Real-time alerts                                          â”‚
â”‚                                                                 â”‚
â”‚  8. COMPLIANCE                                                  â”‚
â”‚     â€¢ HIPAA - PHI handling                                     â”‚
â”‚     â€¢ GDPR - Right to deletion                                 â”‚
â”‚     â€¢ Data retention policies                                   â”‚
â”‚     â€¢ Regular security audits                                   â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Deployment Architecture

### Development Environment
```
Local Machine
â”œâ”€â”€ Backend: localhost:8000
â”œâ”€â”€ Frontend: localhost:3000
â””â”€â”€ MongoDB: Atlas (cloud)
```

### Production Environment (Recommended)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          Cloudflare CDN                  â”‚
â”‚     (DDoS Protection, Caching)          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         Vercel (Frontend)               â”‚
â”‚   â€¢ Next.js SSR/SSG                     â”‚
â”‚   â€¢ Global CDN                          â”‚
â”‚   â€¢ Automatic HTTPS                     â”‚
â”‚   â€¢ Environment Variables               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â–¼ API Calls
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    AWS EC2 / GCP Cloud Run (Backend)   â”‚
â”‚   â€¢ FastAPI with Uvicorn               â”‚
â”‚   â€¢ Nginx reverse proxy                â”‚
â”‚   â€¢ Systemd service                     â”‚
â”‚   â€¢ Let's Encrypt SSL                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      MongoDB Atlas (Database)           â”‚
â”‚   â€¢ Cluster with replicas              â”‚
â”‚   â€¢ Automatic backups                   â”‚
â”‚   â€¢ Point-in-time recovery             â”‚
â”‚   â€¢ IP whitelist                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Scoring Algorithm Flow

```
Input (User Response)
      â”‚
      â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Preprocessing   â”‚
â”‚  â€¢ Normalize     â”‚
â”‚  â€¢ Clean data    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Scoring Logic    â”‚
â”‚ (Section-specific)â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Trail Making:    â”‚
â”‚  â€¢ Check sequenceâ”‚
â”‚  â€¢ Count errors  â”‚
â”‚                  â”‚
â”‚ Cube Copy:       â”‚
â”‚  â€¢ CV detection  â”‚
â”‚  â€¢ Shape match   â”‚
â”‚                  â”‚
â”‚ Naming:          â”‚
â”‚  â€¢ Fuzzy match   â”‚
â”‚  â€¢ Threshold 0.6 â”‚
â”‚                  â”‚
â”‚ ... etc          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Confidence      â”‚
â”‚  Calculation     â”‚
â”‚  â€¢ 0.0 - 1.0     â”‚
â”‚  â€¢ < 0.7 = flag  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Store Result   â”‚
â”‚   â€¢ Raw score    â”‚
â”‚   â€¢ Confidence   â”‚
â”‚   â€¢ Details      â”‚
â”‚   â€¢ Review flag  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
    API Response
    { score, confidence,
      requires_manual_review }
```

---

## File Structure Map

```
RPC2.0/
â”‚
â”œâ”€â”€ ğŸ“ backend/                 # Python FastAPI backend
â”‚   â”œâ”€â”€ ğŸ“ database/            # Database layer
â”‚   â”‚   â”œâ”€â”€ connection.py       # MongoDB connection
â”‚   â”‚   â”œâ”€â”€ models.py           # Data models
â”‚   â”‚   â””â”€â”€ __init__.py
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ“ routers/             # API endpoints
â”‚   â”‚   â”œâ”€â”€ users.py            # User management
â”‚   â”‚   â”œâ”€â”€ sessions.py         # Session tracking
â”‚   â”‚   â”œâ”€â”€ scoring.py          # All scoring endpoints
â”‚   â”‚   â”œâ”€â”€ verification.py     # Location/time checks
â”‚   â”‚   â”œâ”€â”€ results.py          # Result aggregation
â”‚   â”‚   â””â”€â”€ __init__.py
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ“ utils/               # Utilities
â”‚   â”‚   â”œâ”€â”€ scoring.py          # Scoring algorithms
â”‚   â”‚   â””â”€â”€ __init__.py
â”‚   â”‚
â”‚   â”œâ”€â”€ main.py                 # â­ Entry point
â”‚   â””â”€â”€ requirements.txt        # Dependencies
â”‚
â”œâ”€â”€ ğŸ“ frontend/                # Next.js frontend
â”‚   â”œâ”€â”€ ğŸ“ src/
â”‚   â”‚   â”œâ”€â”€ ğŸ“ pages/           # Routes
â”‚   â”‚   â”‚   â”œâ”€â”€ _app.tsx        # App wrapper
â”‚   â”‚   â”‚   â”œâ”€â”€ _document.tsx   # HTML document
â”‚   â”‚   â”‚   â”œâ”€â”€ index.tsx       # Landing page
â”‚   â”‚   â”‚   â””â”€â”€ api/            # API routes (NextAuth)
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ ğŸ“ components/      # Reusable UI
â”‚   â”‚   â”‚   â”œâ”€â”€ IdleAlert.tsx
â”‚   â”‚   â”‚   â””â”€â”€ ProgressBar.tsx
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ ğŸ“ lib/             # Utilities
â”‚   â”‚   â”‚   â””â”€â”€ api.ts          # API client
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ ğŸ“ contexts/        # State
â”‚   â”‚   â”‚   â””â”€â”€ ProgressContext.tsx
â”‚   â”‚   â”‚
â”‚   â”‚   â””â”€â”€ ğŸ“ styles/          # Styles
â”‚   â”‚       â””â”€â”€ globals.css
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ“ public/              # Static assets
â”‚   â”œâ”€â”€ package.json            # Dependencies
â”‚   â”œâ”€â”€ tsconfig.json           # TypeScript config
â”‚   â”œâ”€â”€ tailwind.config.js      # Tailwind config
â”‚   â””â”€â”€ next.config.js          # Next.js config
â”‚
â”œâ”€â”€ ğŸ“„ .env.example             # Environment template
â”œâ”€â”€ ğŸ“„ .gitignore               # Git ignore rules
â”œâ”€â”€ ğŸ“„ README.md                # Project overview
â”œâ”€â”€ ğŸ“„ QUICK_START.md           # â­ Start here!
â”œâ”€â”€ ğŸ“„ SETUP_GUIDE.md           # Detailed setup
â”œâ”€â”€ ğŸ“„ API_DOCUMENTATION.md     # API reference
â”œâ”€â”€ ğŸ“„ IMPLEMENTATION_SUMMARY.md # What's built
â”œâ”€â”€ ğŸ“„ DEVELOPMENT_ROADMAP.md   # Future plans
â”œâ”€â”€ ğŸ“„ ARCHITECTURE.md          # â­ This file
â””â”€â”€ ğŸ“œ start.ps1                # Quick start script
```

---

**Legend:**
- â­ = Important/Start here
- ğŸ“ = Directory
- ğŸ“„ = Documentation
- ğŸ“œ = Script

**Last Updated**: October 22, 2025
